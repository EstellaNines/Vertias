# TPS 战斗系统开发日志

## 开发日志

### TPS v0.1.1 (06.07 21:51)

  * **新增功能** ：添加子弹散布功能，使得射击过程更具真实感和策略性，玩家需要更精准地控制射击方向和力度来命中目标。
  * **修复问题** ：修复了角色、敌人、丧尸、障碍图层的碰撞与触发器问题，提升了游戏世界的交互性和物体之间的物理反应合理性，避免出现穿模、碰撞检测失效等异常情况。

### TPS v0.1.2 (06.08 23:31)

  * **修复问题** ：修复玩家角色的碰撞体为触发器问题，确保玩家角色在游戏世界中与其他物体的碰撞交互正常，不会出现不合理的穿透或触发异常行为。
  * **功能优化与重制** ：重制玩家角色拾取物品功能与逻辑，优化后的拾取系统更加稳定、高效，减少了拾取物品时的卡顿和错误，提高了玩家获取资源的便利性和流畅度。

### TPS v0.1.2-1 (06.09 16:48)

  * **修复问题** ：修复武器因拾取方向导致武器的 Y 轴翻转错误的问题，现在武器的显示和操作方向更加符合玩家的预期，不会因为拾取方向的不同而出现武器显示异常的情况。
  * **逻辑调整与优化** ：将翻转 Y 轴逻辑从玩家角色的 Hand 子对象转移至作为 Hand 对象的子对象 Weapon 上，实现武器的 Y 轴翻转而不是手部的 Y 轴翻转，使得武器的展示和操作更加自然、合理，符合实际的物理规律和玩家的操作习惯。
  * **脚本新增** ：新建一个物品管理脚本用于存放物品基础数据，为后续的物品系统拓展和管理提供了更规范、更便捷的数据存储和调用方式，有利于物品属性、功能的统一管理和维护。

### TPS v0.2.0 (06.10 - 06.11)

  * **项目拓展** ：新增 Gitee 仓库存放和备份项目，保障项目的源代码安全，方便团队成员在不同环境下进行代码的共享、协作和版本管理，同时也为项目的长期发展和维护提供了更可靠的存储保障。

### TPS v0.2.0-1 (06.12 10:36)

  * **功能新增** ：增加远程攻击敌人的扇形检测的可视化射线检测基础机制，初步实现了对远程攻击范围内敌人的检测功能，但该功能仍处于试验阶段，存在许多需要进一步优化和完善的问题，如检测精度、性能消耗、与游戏场景的适配性等方面。

### TPS v0.2.0-2 (06.13 22:36)

  * **功能调整** ：删除远程攻击敌人的扇形检测，由于该功能在实际应用中暴露出较多问题，暂时放弃该方案，转而采用更成熟、稳定的技术方案来实现远程攻击的检测功能。
  * **插件引入与功能实现** ：添加 A \* 寻路插件，并根据公开可用的 API 实现原有的丧尸 Zombie 对象的追击范围内 A \* 自动寻路功能，使丧尸的移动更加智能化，能够根据路径规划自动寻找并追击玩家，大大增强了游戏的挑战性和紧张感，提升了游戏的可玩性和沉浸感。

### TPS v0.2.0-3 (06.14 12:19)

  * **功能增加** ：增加一个网格生成器FieldOfView，用于生成一个扇形区域，可以用来未来敌人检测玩家位置是否在这个可视化位置内，在范围内是潜行状态则不会有反应，在范围内则会反应并攻击玩家。

### TPS v0.2.0-4 (06.18 11:38)
  
  * **功能增加** ：给远程攻击的敌人增加了一个Circlecollider2D触发器，用于检测玩家是否进入了敌人的视线范围

### TPS v0.2.0-4 (06.19 16:27)
  
  * **功能调整** ：调整触发器与碰撞体，并修改Bullet脚本适配新的capsule碰撞体
  * **功能增加** ：增加敌人持有武器，并根据玩家位置瞄准玩家

### TPS v0.2.0-5 (06.20 22:46)
  * **功能增加** ：增加了敌人开火脚本EnemyFire，控制敌人在玩家进入范围后对玩家开火
  * **功能增加** ：增加了敌人子弹池，用于管理敌人开枪时生成的子弹实例
  * **功能调整** ：调整了所有人物的碰撞关系，规定使用CapsuleCollider2D来作为所有人物的碰撞体，其他类型碰撞体作为触发或其他功能
  * **功能增加** ：设置一个简单的状态机，准备进行Zombie角色的巡逻功能，但是由于状态机设计复杂，以及A*寻路算法的调用问题，现在暂时无法实现巡逻机制，但是其余机制保持完好
  * **测试功能删改** ：扇形检测区域设计仍有未解决问题，暂时修改为圆形范围检测，在一定学习后重新尝试使用扇形检测

### TPS v0.2.1 (06.23 23:02)
  * **完整的丧尸状态机** ：重置了所有丧尸敌人的脚本，将原有的单功能脚本控制各种状态（待机、追击、攻击、受伤、死亡）的单独脚本重制为由单独的有限状态机IState与Zombie脚本完整控制所有丧尸状态。
  * **检查器中文变量**  ：根据网络上一个存在的检查器中文变量脚本代码进行修改与重制化片段，完成了检查器内英语变量显示为中文变量
  * **动画器拆解** ：将动画器中过渡状态器拆除，转而使用状态机
  * **废弃全部功能脚本** ：废弃了全部丧尸功能脚本